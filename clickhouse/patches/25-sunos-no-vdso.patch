From f80602360eef12e2df0fb1a2a7c7e69bc0994443 Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex@cooperi.net>
Date: Tue, 30 May 2023 11:50:25 +1000
Subject: [PATCH 23/42] 25-sunos-no-vdso.patch

diff -wpruN --no-dereference '--exclude=*.orig' a~/contrib/abseil-cpp/absl/debugging/internal/vdso_support.h a/contrib/abseil-cpp/absl/debugging/internal/vdso_support.h
--- a~/contrib/abseil-cpp/absl/debugging/internal/vdso_support.h	1970-01-01 00:00:00
+++ a/contrib/abseil-cpp/absl/debugging/internal/vdso_support.h	1970-01-01 00:00:00
@@ -48,7 +48,7 @@
 
 #ifdef ABSL_HAVE_VDSO_SUPPORT
 #error ABSL_HAVE_VDSO_SUPPORT cannot be directly set
-#else
+#elif defined(__linux__) || defined(__FreeBSD__)
 #define ABSL_HAVE_VDSO_SUPPORT 1
 #endif
 
