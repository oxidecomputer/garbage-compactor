From 19d934a318b798871ae84fd2e8744d3016c2c4fb Mon Sep 17 00:00:00 2001
From: Alex Wilson <alex@cooperi.net>
Date: Mon, 29 May 2023 09:58:57 +1000
Subject: [PATCH 05/42] 06-divide-cmake.patch

diff -wpruN --no-dereference '--exclude=*.orig' a~/src/Functions/divide/CMakeLists.txt a/src/Functions/divide/CMakeLists.txt
--- a~/src/Functions/divide/CMakeLists.txt	1970-01-01 00:00:00
+++ a/src/Functions/divide/CMakeLists.txt	1970-01-01 00:00:00
@@ -1,6 +1,6 @@
 # A library for integer division by constant with CPU dispatching.
 
-if (ARCH_AMD64)
+if (ARCH_AMD64 OR OS_SUNOS)
     add_library(divide_impl_sse2 divideImpl.cpp)
     target_compile_options(divide_impl_sse2 PRIVATE -msse2 -DNAMESPACE=SSE2)
     target_link_libraries(divide_impl_sse2 ch_contrib::libdivide)
